@import "tailwindcss";
@plugin "@tailwindcss/typography"; 
@tailwind base;
@tailwind components;
@tailwind utilities;

/* You can add custom paper styles here later */
body {
  background-color: #f3f4f6; /* Light gray background for contrast against the "paper" */
}

/* Page Break Simulation */
.page-break-gap {
  height: 48px;               /* Visual gap height */
  background-color: #f3f4f6;  /* Match the body gray background */
  margin-left: -96px;         /* Pull out to cover the left padding */
  margin-right: -96px;        /* Pull out to cover the right padding */
  border-top: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  position: relative;
  width: calc(100% + 192px);  /* Full width including pulled margins */
  pointer-events: none;       /* Let clicks pass through if needed */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Optional: Add "Page X" label in the gap */
.page-break-gap::after {
  content: "Page " attr(data-page);
  font-size: 12px;
  color: #9ca3af;
  font-weight: 500;
  text-transform: uppercase;
}

@media print {
  /* 1. Reset the page layout */
/* NEW: Prevent paragraphs and headings from splitting awkwardly */
  p, h1, h2, h3, li {
    break-inside: avoid;
  }
  
  /* Update the page definition to be strict */
  @page {
    margin: 0 !important;
    size: letter;
  }

  /* 2. Hide all UI elements (Toolbar, Background, etc.) */
  body, 
  nav, 
  button, 
  .toolbar-container { 
    visibility: hidden;
    background-color: white;
  }

  /* 3. Make the Editor visible and position it for print */
  .ProseMirror {
    visibility: visible;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
    padding: 96px !important; /* Force 1-inch margins */
    overflow: visible !important;
  }

  /* 4. Ensure our custom page breaks force a real printer page break */
  .page-break-gap {
    break-before: page;    /* This is the magic property */
    height: 0;
    border: none;
    margin: 0;
    visibility: hidden;    /* Hide the gray "Page 2" bar */
  }

  /* 5. Remove the shadow and border from the paper container */
  div[class*="shadow-lg"] {
    box-shadow: none !important;
    border: none !important;
  }
}